<!DOCTYPE HTML>
<html lang="en" class="flint sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Branching - The Flint Wiki</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/flint.css">
        <link rel="stylesheet" href="../../theme/flint-highlight.css">
        <link rel="stylesheet" href="../../version_select.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "flint";
            const default_dark_theme = "flint";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('flint')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Flint Wiki</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="branching"><a class="header" href="#branching">Branching</a></h1>
<p>Branching is the act of executing different "blocks" of code depending on conditions (booleans). But, before we can talk about branching we need to talk about what this <em>block</em> really is. Take the main function, for example:</p>
<pre><code class="language-ft">use Core.print

def main():
    f32 val = 3.3;
    i32 val_i = i32(val);
    print($"{val} = {val_i}\n");
</code></pre>
<p>In this function, everything thats indented once is considered to be "inside" the main function. But what does this "inside" really mean? There exists a formal description for this "inside", it's called a <code>Scope</code>. The Scope of the main function is everything thats written down within the main functions <em>body</em> ("inside" the function).</p>
<p>Scopes are a really important concept in programming, because there exist several consistent and deterministic rules about scopes and <em>subscopes</em>. But thats enough theory for now, lets look at the easiest example for branching, the <code>if</code> statement.</p>
<h2 id="the-if-statement"><a class="header" href="#the-if-statement">The if Statement</a></h2>
<p>The if statement lets your program execute code only when a condition evaluates to true. Here's how it works:</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 age = 18;

    if age &gt;= 18: // The condition evaluates to true
        print($"You are {age} years old, so you can vote!\n");
</code></pre>
<p>This program will print this line to the console:</p>
<blockquote>
<pre><code>You are 18 years old, so you can vote!
</code></pre>
</blockquote>
<p>Try changing the <code>age</code> to <code>17</code> and watch what happens.</p>
<p>If the condition evaluates to false, the program skips the block of code inside the <code>if</code> statement. We say that the <code>print</code> call here is <strong>inside the if statement's scope</strong>. But what does scope really mean? Have a look at this example:</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 age = 18;

    if age &gt;= 18:
        i32 somevalue = 22;
        print("Age is above or equal to 18!\n");

    print($"somevalue = {somevalue}\n");
</code></pre>
<p>Here, the declaration of the <code>age</code> variable is inside the <code>main</code> function's scope, while the <code>somevalue</code> declaration and the first <code>print</code> call are inside the <code>if</code> statement's scope. The second <code>print</code> call, however, is inside the <code>main</code> function's scope again. As you can see, the scope is direclty determined by the level of indentation.</p>
<p>If yout try to compile this program you will see a compilation error:</p>
<blockquote>
<pre><code>Parse Error at main.ft:10:26
└──┬┤E0000│
3  │ def main():
10 │ »   print($"somevalue = {somevalue}\n");
┌──┴──────────────────────────┘
└─ Use of undeclared variable 'somevalue'
</code></pre>
</blockquote>
<p>But why is that? We did define the variable <code>somevalue</code> in the if statement's scope, right? Yes, we defined the variable in the if statement's scope, but here comes one of the mentioned rules of scopes into play: Visibility.</p>
<p>But what's visibility? Visibility describes the visibility of variables within scopes and their parent or child scopes. The if statement's scope, for example, is a <code>child scope</code> of the <code>main</code> function's scope. Because its a child scope it can "see" all variables of its parent scope. <strong>But</strong> it can only see variables that have been defined up until the child scope. To illustrate what this means, look at this example:</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 val1 = 1;
    if val1 &lt; 10:
        print("val1 &lt; 10\n");
    i32 val2 = 2;
</code></pre>
<p>what i described above means nothing else than the simple fact that <code>val1</code> is <strong>visible</strong> inside the if statements scope, but <code>val2</code> is <em>not</em>, because <code>val2</code> is defined <strong>after</strong> the if statements scope. So, a child scope can only see variables of its parent scope that have been declared <strong>before</strong> it.</p>
<p>Parent scopes <strong>do not</strong> inherit <strong>any</strong> variable definitions of their child scopes. This program, for example:</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 val1 = 2;
    if val1 &lt; 10:
        i32 val2 = 44;
        print($"val1 = {val1}, val2 = {val2}\n");
    i32 val2 = 12;
    print($"val1 = {val1}, val2 = {val2}\n");
</code></pre>
<p>will compile and run fine. But lets discuss why that is. The variable <code>val2</code> is defined <em>inside</em> the if statements scope, this means that its visible for the rest of the if statements scope and all possible child scopes of it, but it is not visible for its parent scope. Because the variable <code>val2</code> does not exist in the main function's scope yet, this works fine, as no variable definition is shadowed. Because the variable <code>val2</code> never existed in the main function's scope, we can declare a new variable <code>val2</code> inside the main function.</p>
<p>This behaviour of visibility given down to children but never up to parents is the very reason why the compile error from above happened, becaue the variable <code>somevalue</code> was never defined in the main functions scope, so it simply does not exist at the position we wanted to use it.</p>
<h2 id="the-else-keyword"><a class="header" href="#the-else-keyword">The else Keyword</a></h2>
<p>Now that you know scopes and visibility, the else statement should actually be pretty easy to understand. An else statement is used whenever you want to do something if another condition failed. It is explained best through an example:</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 age = 16;

    if age &gt;= 18: // If this is false...
        print($"You are {age} years old, so you can vote!\n");
    else: // ...then this block executes
        print($"You are {age} years old, so you cannot vote.\n");
</code></pre>
<p>This program will print this line to the console:</p>
<blockquote>
<pre><code>You are 16 years old, so you cannot vote.
</code></pre>
</blockquote>
<p>Try changing the <code>age</code> variable to, lets say 20, and see what happens.</p>
<h2 id="the-else-if-keyword"><a class="header" href="#the-else-if-keyword">The else if Keyword</a></h2>
<p>Sometimes, you need multiple conditions. Instead of stacking multiple if statements, you can use else if to create a chain of conditions. The important thing to remember here is that <strong>only one</strong> of the branches will be executed, not multiple ones.</p>
<pre><code class="language-ft">use Core.print

def main():
    i32 age = 16;

    if age &gt;= 65:
        print("You qualify for senior discounts.\n");
    else if age &gt;= 18:
        print("You can vote but no senior discounts yet!\n");
    else:
        print("You are too young to vote.\n");
</code></pre>
<p>This program will print this line to the console:</p>
<blockquote>
<pre><code>You are too young to vote.
</code></pre>
</blockquote>
<p>Play around a bit. Change the value of <code>age</code> and see what happens. Try to write your own conditions and branches.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../beginners_guide/3_control_flow/2_boolean_operations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../beginners_guide/3_control_flow/4_loops.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../beginners_guide/3_control_flow/2_boolean_operations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../beginners_guide/3_control_flow/4_loops.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../version_select.js"></script>


    </div>
    </body>
</html>
