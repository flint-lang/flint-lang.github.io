<!DOCTYPE HTML>
<html lang="en" class="flint sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>filesystem - The Flint Wiki</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../theme/flint.css">
        <link rel="stylesheet" href="../../theme/flint-highlight.css">
        <link rel="stylesheet" href="../../version_select.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "flint";
            const default_dark_theme = "flint";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('flint')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Flint Wiki</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="filesystem"><a class="header" href="#filesystem">filesystem</a></h1>
<pre><code class="language-rs">use Core.filesystem
</code></pre>
<p>The <code>filesystem</code> module provides several functions to read data from and write data to files.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: right">Function Name</th><th style="text-align: left">Parameter Types</th><th style="text-align: center">Return Types</th><th style="text-align: center">Possible Errors</th></tr></thead><tbody>
<tr><td style="text-align: right"><code>read_file</code></td><td style="text-align: left"><code>str</code></td><td style="text-align: center"><code>str</code></td><td style="text-align: center"><code>ErrIO</code></td></tr>
<tr><td style="text-align: right"><code>read_lines</code></td><td style="text-align: left"><code>str</code></td><td style="text-align: center"><code>str[]</code></td><td style="text-align: center"><code>ErrFS</code></td></tr>
<tr><td style="text-align: right"><code>file_exists</code></td><td style="text-align: left"><code>str</code></td><td style="text-align: center"><code>bool</code></td><td style="text-align: center">No</td></tr>
<tr><td style="text-align: right"><code>write_file</code></td><td style="text-align: left"><code>str</code>, <code>str</code></td><td style="text-align: center">No</td><td style="text-align: center"><code>ErrFS</code></td></tr>
<tr><td style="text-align: right"><code>append_file</code></td><td style="text-align: left"><code>str</code>, <code>str</code></td><td style="text-align: center">No</td><td style="text-align: center"><code>ErrFS</code></td></tr>
<tr><td style="text-align: right"><code>is_file</code></td><td style="text-align: left"><code>str</code></td><td style="text-align: center"><code>bool</code></td><td style="text-align: center">No</td></tr>
</tbody></table>
</div>
<h2 id="error-sets"><a class="header" href="#error-sets">error sets</a></h2>
<p>These are the error sets this Core module provides.</p>
<h3 id="errio"><a class="header" href="#errio">ErrIO</a></h3>
<p>This error set does not have a parent error, so it directly and only extends <code>anyerror</code> directly. These are the possible values this error could have:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Error Value</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>OpenFailed</code></td><td style="text-align: left">Could not open the file</td></tr>
<tr><td style="text-align: left"><code>NotFound</code></td><td style="text-align: left">File does not exist</td></tr>
<tr><td style="text-align: left"><code>NotReadable</code></td><td style="text-align: left">Exists but is not readable</td></tr>
<tr><td style="text-align: left"><code>NotWritable</code></td><td style="text-align: left">Exists but is not writable (permissions)</td></tr>
<tr><td style="text-align: left"><code>UnexpectedEOF</code></td><td style="text-align: left">Hit EOF in the middle of a read</td></tr>
</tbody></table>
</div>
<h3 id="errfs"><a class="header" href="#errfs">ErrFS</a></h3>
<p>This error set extens the <code>ErrIO</code> error set. These are the possible values this error set could have in addition to all the error values from <code>ErrIO</code>:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Error Value</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>TooLarge</code></td><td style="text-align: left">File is unreasonably large</td></tr>
<tr><td style="text-align: left"><code>InvalidPath</code></td><td style="text-align: left">Path string is malformed</td></tr>
</tbody></table>
</div>
<h2 id="read_file"><a class="header" href="#read_file">read_file</a></h2>
<p>The <code>read_file</code> function takes a <code>str</code> parameter, which is the path to the file that wants to be read and returns a <code>str</code> value, containing the content of the given file. This function throws an error if the file does not exist or is not readable.</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main(str[] args):
    if args.length &lt; 2:
        print("No path provided as a cli argument! Exiting...\n");
        return;

    str file_content = read_file(args[1]);
    print($"Read file '{args[1]}':\n");
    print(file_content);
    print("\n");
</code></pre>
<p>When executing this program with the command <code>./main main.ft</code> we get this output:</p>
<blockquote>
<pre><code>Read file 'main.ft':
use Core.print
use Core.filesystem

def main(str[] args):
    if args.length &lt; 2:
        print("No path provided as a cli argument! Exiting...\n");
        return;

    str file_content = read_file(args[1]);
    print($"Read file '{args[1]}':\n");
    print(file_content);
    print("\n");
</code></pre>
</blockquote>
<h2 id="read_lines"><a class="header" href="#read_lines">read_lines</a></h2>
<p>The <code>read_lines</code> function reads a given file (the <code>str</code> path to the file) and returns an array of all read lines (<code>str[]</code>). This function is really useful for reading a file and iterating through each line after reading the file. This function throws an error if the file does not exist or is not readable.</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main(str[] args):
    if args.length &lt; 2:
        print("No path provided as a cli argument! Exiting...\n");
        return;

    str[] lines = read_lines(args[1]);
    print($"Read file '{args[1]}':\n");
    for (idx, line) in lines:
        print($"{idx}:\t| {line}\n");
</code></pre>
<p>When executing this program with the command <code>./main main.ft</code> we get this output:</p>
<blockquote>
<pre><code>Read file 'main.ft':
0:	| use Core.print
1:	| use Core.filesystem
2:	|
3:	| def main(str[] args):
4:	|     if args.length &lt; 2:
5:	|         print("No path provided as a cli argument! Exiting...\n");
6:	|         return;
7:	|
8:	|     str[] lines = read_lines(args[1]);
9:	|     print($"Read file '{args[1]}':\n");
10:	|     for (idx, line) in lines:
11:	|         print($"{idx}:\t| {line}\n");
</code></pre>
</blockquote>
<h2 id="file_exists"><a class="header" href="#file_exists">file_exists</a></h2>
<p>The <code>file_exists</code> function checks whether the given file (<code>str</code> path to the file) exists. This function cannot crash, as it checks for a file's existence, so when it does not exist or is not readable, it just returns <code>false</code>.</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main(str[] args):
    if args.length &lt; 2:
        print("No path provided as a cli argument! Exiting...\n");
        return;

    bool exists = file_exists(args[1]);
    print($"Does file '{args[1]}' exist? {exists}\n");
</code></pre>
<p>When executing this program with the command <code>./main main.ft</code> we get this output:</p>
<blockquote>
<pre><code>Does file 'main.ft' exist? true
</code></pre>
</blockquote>
<h2 id="write_file"><a class="header" href="#write_file">write_file</a></h2>
<p>The <code>write_file</code> function takes two arguments. The first argument is the path to the file to write to (or create) as a <code>str</code> path. The second parameter is the content of the to-be-written file (<code>str</code>). This function will create a file at the given path if the file does not exist yet. If the file exists, this function just overwrites it. This function will throw an error if the given file coould not be opened or could not be written to (for example a permission error).</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main():
    write_file("test_file", "Test File content\nThis is going to be great!");
    str file = read_file("test_file");
    print($"test_file content:\n{file}\n");
</code></pre>
<p>This program will print these lines to the console:</p>
<blockquote>
<pre><code>test_file content:
Test File content
This is going to be great!
</code></pre>
</blockquote>
<h2 id="append_file"><a class="header" href="#append_file">append_file</a></h2>
<p>The <code>append_file</code> function will try to append text to an already existent file. The first parameter of the function is the path to the file the new content is appended (<code>str</code> path). The second parameter is the content which will be appended to the file (<code>str</code>). This function will throw an error if the given file does not exist or could not be opened with write access.</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main():
    write_file("test_file", "Test File content\nThis is going to be great!");
    append_file("test_file", "\n\nThis is written with one space in between!");

    str file = read_file("test_file");
    print($"test_file content:\n{file}\n");
</code></pre>
<p>This program will print these lines to the console:</p>
<blockquote>
<pre><code>test_file content:
Test File content
This is going to be great!

This is written with one space in between!
</code></pre>
</blockquote>
<h2 id="is_file"><a class="header" href="#is_file">is_file</a></h2>
<p>The <code>is_file</code> function checks whether the file at the given path (<code>str</code>) even is a file. It will return <code>false</code> in the case that the file / directory does not exist. It will also return false if the given "file" is actually a directory. This function cannot throw any errors.</p>
<pre><code class="language-rs">use Core.print
use Core.filesystem

def main():
    print($"is 'test_file' a file? {is_file("test_file")}\n");
    print($"is 'somegarbage' a file? {is_file("somegarbage")}\n");
</code></pre>
<p>This program will print these lines to the console:</p>
<blockquote>
<pre><code>is 'test_file' a file? true
is 'somegarbage' a file? false
</code></pre>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../beginners_guide/8_core_modules/3_assert.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../beginners_guide/8_core_modules/5_env.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../beginners_guide/8_core_modules/3_assert.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../beginners_guide/8_core_modules/5_env.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../version_select.js"></script>


    </div>
    </body>
</html>
