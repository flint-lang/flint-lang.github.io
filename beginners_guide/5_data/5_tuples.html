<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Tuples - The Flint Wiki</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../../searchindex.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Flint Wiki</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="tuples"><a class="header" href="#tuples">Tuples</a></h1>
<p>Tuples are a really nice concept in general and they exist in pretty much every language. But first, lets talk about what tuples even are and maybe take a closer look at <code>data</code> in general.
In Flint, <code>data</code> is essentially just a <code>struct</code> from C, if you have seen that one before. So when we write</p>
<pre><code class="language-rs">data Vector2:
    i32 x;
    i32 y;
    Vector2(x, y);
</code></pre>
<p>we could do something similar in C which would look like this:</p>
<pre><code class="language-c">typedef struct {
    int x;
    int y;
} Vector2;
</code></pre>
<p>Under the hood, both Flint's <code>data</code> module and C's <code>struct</code> are exactly the same. They are just collections of data packed into a struct. So, what are tuples then? Well, tuples are collections of data, packed into a struct too. But with one big difference: They are <strong>anonymous</strong>, meaning that they dont get a <em>type name</em>, but when looking at the lowest level, <code>data</code> and tuples are actually extremely similar.</p>
<h2 id="defining-tuples"><a class="header" href="#defining-tuples">Defining Tuples</a></h2>
<p>Because tuples are anonymous they are not defined like data modules are. They are rather defined inline, like a variable, for example. So here is the basic syntax to define a tuple in Flint:</p>
<pre><code class="language-rs">def main():
    data&lt;i32, f32, str&gt; tuple = (3, 2.2, "hello!");
</code></pre>
<p>Do you recognize the <code>data</code> keyword? This is the reason i told you earlier that tuples and data are actually pretty much the same thing, but one is named while the other one is not. This connection and the understanding of it is crucial to understand tuples, because otherwise you now would be really confused by the syntax: "Wait, what does the <code>data</code> keyword have to do with tuples here?".</p>
<p>And here we have another very nice property of Flint's groups – they enable seemless interoperability between different types! As you can see, the "initializer" for a tuple is actually a group with the same types as the tuple itself. So, the "initializer" of a tuple could also be a grouped field access (d.(a, b, c)` or a group from multiple variables or anything else you can do with groups. As you can see, groups form a whole layer of making syntax easier for a lot of systems.</p>
<h2 id="tuple-access"><a class="header" href="#tuple-access">Tuple Access</a></h2>
<p>But what about assigning and accessing the specific fields of a tuple? With <code>data</code> modules, we can access the fields directly by the name of the field (<code>v2.x</code>) but tuples are anonymous, meaning that neither the type itself has a name, nor do the fields.</p>
<p>In Flint, we access the fields of a tuple by its "index". The first field of the tuple above is of type <code>i32</code>, the second of type <code>f32</code> and the third of type <code>str</code>, so we can use the fixed ordering as our accessing syntax right away. But we cannot do <code>tuple.0</code>, <code>tuple.1</code> etc directly because that would look pretty weird to have an integer literal directly. Here is an example of how to access the single values of a tuple in Flint:</p>
<pre><code class="language-rs">use Core.print

def main():
    data&lt;i32, f32, str&gt; tuple = (3, 2.2, "hello!");

    i32 first = tuple.$0;
    f32 second = tuple.$1;
    str third = tuple.$2;

    print($"first = {first}\n");
    print($"second = {second}\n");
    print($"third = \"{third}\"\n");
</code></pre>
<p>This program will print these lines to the console:</p>
<blockquote>
<pre><code>first = 3
second = 2.2
third = "hello!"
</code></pre>
</blockquote>
<p>As you can clearly see, we access the elements of the tuple with the <code>.$N</code> syntax, where <code>N</code> is the index of the element we want to access. Like always for indices, we start at 0 as Flint has zero-based indexing. If we would try to access an element which is out of bounds, like <code>.$3</code> in our case we would actually get a compile error:</p>
<pre><code class="language-rs">def main():
    data&lt;i32, f32, str&gt; tuple = (3, 2.2, "hello!");
    i32 = tuple.$3;
</code></pre>
<div class="warning">
<p>The error message for this error has not been added yet.</p>
<p>Currently the error is:</p>
<blockquote>
<pre><code>Parse Error at main.ft:3:5
-- Failed to parse statement: i32 = tuple . $ 3;
</code></pre>
</blockquote>
<p>Which is just a generic message stating something went wrong with the statement, but not stating that the <code>$3</code> is the wrong part, as it's larger than the size of the tuple.</p>
</div>
<h2 id="tuple-assignment"><a class="header" href="#tuple-assignment">Tuple Assignment</a></h2>
<p>Just like we can access elements from a tuple, we can also assign new values to the elements of a tuple. Here is a simple example of this in action:</p>
<pre><code class="language-rs">use Core.print

def main():
    data&lt;i32, f32, str&gt; tuple = (3, 2.2, "hello!");

    tuple.$0 = 7;
    tuple.$1 = 4.7;
    tuple.$2 = "yes";

    print($"first = {tuple.$0}\n");
    print($"second = {tuple.$1}\n");
    print($"third = \"{tuple.$2}\"\n");
</code></pre>
<p>This program prints these lines to the console:</p>
<blockquote>
<pre><code>first = 7
second = 4.7
third = "yes"
</code></pre>
</blockquote>
<h2 id="grouped-accesses-and-assignments"><a class="header" href="#grouped-accesses-and-assignments">Grouped accesses and assignments</a></h2>
<p>Just like with "normal" data you can do grouped field accesses and assignments with tuples too. Instead of the field names you need to write the field ids again:</p>
<pre><code class="language-rs">use Core.print

def main():
    data&lt;i32, f32, str&gt; tuple = (3, 2.2, "hello!");
    tuple.($0, $1, $2) = (7, 4.7, "yes");
    print($"tuple.($0, $1, $2) = ({tuple.$0}, {tuple.$1}, \"{tuple.$2}\")\n");
</code></pre>
<p>This program prints this line to the console:</p>
<blockquote>
<pre><code>tuple.($0, $1, $2) = (7, 4.7, "yes")
</code></pre>
</blockquote>
<h2 id="addition-information"><a class="header" href="#addition-information">Addition Information</a></h2>
<h3 id="multi-type-overlap"><a class="header" href="#multi-type-overlap">Multi-Type overlap</a></h3>
<p>Tuples are not allowed to be defined as a type that can be represented with a mutli-type instead. So, this example for example:</p>
<pre><code class="language-rs">use Core.print

def main():
    data&lt;i32, i32, i32&gt; tuple = (1, 1, 1);
    tuple.($0, $1, $2) = (2, 3, 4);
    print($"tuple.($0, $1, $2) = ({tuple.$0}, {tuple.$1}, {tuple.$2})\n");
</code></pre>
<p>will throw a compilation error and tell you to use a <code>i32x3</code> type instead of the <code>data&lt;i32, i32, i32&gt;</code> type.</p>
<div class="warning">
<p>The error message for this error has not been added yet.</p>
<p>Currently the error is <code>Custom Error: 2</code> without giving <em>any</em> information what error it is.</p>
</div>
<h3 id="returning-tuples"><a class="header" href="#returning-tuples">Returning Tuples</a></h3>
<p>It is not allowed to return a tuple from a function if its the only return type of said function. You need to return a group instead and this is compile-time enforced. The exact reason to why this is required will be clarified in the chapter aboout Flint's error handling. So, this code:</p>
<pre><code class="language-rs">use Core.print

def get_tuple(i32 a, f32 b, str c) -&gt; data&lt;i32, f32, str&gt;:
    data&lt;i32, f32, str&gt; tuple = (a, b, c);
    return tuple;

def main():
    data&lt;i32, f32, str&gt; tuple = get_tuple(1, 4.7, "hello");
    print($"tuple.($0, $1, $2) = ({tuple.$0}, {tuple.$1}, {tuple.$2})\n");
</code></pre>
<p>will produce a compile error telling you to use a group of type <code>(i32, f32, str)</code> instead as the return type of the function. Because you can do this:</p>
<pre><code class="language-rs">use Core.print

def get_tuple(i32 a, f32 b, str c) -&gt; (i32, f32, str):
    return (a, b, c);

def main():
    data&lt;i32, f32, str&gt; tuple = get_tuple(1, 4.7, "hello");
    print($"tuple.($0, $1, $2) = ({tuple.$0}, {tuple.$1}, {tuple.$2})\n");
</code></pre>
<p>annyway. This program will print this line to the console:</p>
<blockquote>
<pre><code>tuple.($0, $1, $2) = (1, 4.7, hello)
</code></pre>
</blockquote>
<h3 id="passing-tuples-to-functions"><a class="header" href="#passing-tuples-to-functions">Passing Tuples to functions</a></h3>
<p>Tuples can also be passed to functions as any value can:</p>
<pre><code class="language-rs">use Core.print

def print_tuple(data&lt;i32, f32, str&gt; tuple):
    print($"tuple.(i32, f32, str) = ({tuple.$0}, {tuple.$1}, \"{tuple.$2}\")\n");

def main():
    data&lt;i32, f32, str&gt; tuple = (1, 2.2, "three");
    print_tuple(tuple);
</code></pre>
<p>This program will print this message to the console:</p>
<blockquote>
<pre><code>tuple.(i32, f32, str) = (1, 2.2, "three")
</code></pre>
</blockquote>
<p>Also, like "normal" data, tuples can be passed to functions as mutable references:</p>
<pre><code class="language-rs">use Core.print

def change_tuple(mut data&lt;i32, f32, str&gt; tuple):
    tuple.($0, $1, $2) = (2, 3.3, "four");

def main():
    data&lt;i32, f32, str&gt; tuple = (1, 2.2, "three");
    print($"tuple.(i32, f32, str) = ({tuple.$0}, {tuple.$1}, \"{tuple.$2}\")\n");

    change_tuple(tuple);
    print($"tuple.(i32, f32, str) = ({tuple.$0}, {tuple.$1}, \"{tuple.$2}\")\n");
</code></pre>
<p>This program will print these lines to the console:</p>
<blockquote>
<pre><code>tuple.(i32, f32, str) = (1, 2.2, "three")
tuple.(i32, f32, str) = (2, 3.3, "four")
</code></pre>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../beginners_guide/5_data/4_using_data_in_functions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../beginners_guide/5_data/6_multi_types.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../beginners_guide/5_data/4_using_data_in_functions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../beginners_guide/5_data/6_multi_types.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
